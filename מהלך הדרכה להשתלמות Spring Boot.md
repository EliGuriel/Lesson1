#   מהלך הדרכה להשתלמות Spring Boot

<div dir="rtl">

## מבוא

  מהלך ההשתלמות המלא של פיתוח אפליקציית CRUD ב-Spring Boot, מהיסודות הבסיסיים ביותר ועד ליישום מתקדם. כל שלב בנוי על השלב הקודם ומציג קונספטים חדשים באופן הדרגתי.

## תוכן עניינים

1. [שלב 1: אפליקציה בסיסית](#שלב-1-אפליקציה-בסיסית)
2. [שלב 2: הוספת קונטרולר בסיסי](#שלב-2-הוספת-קונטרולר-בסיסי)
3. [שלב 3: ארכיטקטורת MVC בסיסית](#שלב-3-ארכיטקטורת-mvc-בסיסית)
4. [שלב 4: CRUD מלא עם שיפורים ארכיטקטוניים](#שלב-4-crud-מלא-עם-שיפורים-ארכיטקטוניים)
5. [שלב 5: טיפול בחריגות ושיפור תגובות ה-API](#שלב-5-טיפול-בחריגות-ושיפור-תגובות-ה-api)
6. [שלב 5.1: טיפול גלובלי בחריגות](#שלב-51-טיפול-גלובלי-בחריגות)
7. [שלב 5.2: ולידציה וטיפול בשגיאות ולידציה](#שלב-52-ולידציה-וטיפול-בשגיאות-ולידציה)
8. [סיכום ](#סיכום-ההשתלמות)

## שלב 1: אפליקציה בסיסית

### מטרות הלימוד
- הכרת יסודות Spring Boot
- הבנת מבנה פרויקט בסיסי
- הבנת @SpringBootApplication והאוטו-קונפיגורציה

### מהלך ההדרכה

1. **יצירת פרויקט בסיסי **
    - כניסה ל-[Spring Initializer](https://start.spring.io/)
    - הסבר על חלקי המסך השונים ומשמעותם:
        - סוג פרויקט (Maven/Gradle)
        - שפה (Java)
        - גרסת Spring Boot
        - Group/Artifact (מבנה השיום)
        - Dependencies (בחירת Spring Web, Spring Boot DevTools)
    - הורדת הפרויקט ופתיחתו ב-IntelliJ IDEA
    - סקירת מבנה הפרויקט והקבצים שנוצרו

2. **הסבר על מחלקת האפליקציה הראשית **
    - הצגת `Stage1Application.java` וניתוח של הקוד
    - הסבר על האנוטציה `@SpringBootApplication` ומשמעותה
    - הסבר על השורה `SpringApplication.run()` ומה קורה מאחורי הקלעים:
        1. יצירת SpringApplication והגדרות ראשוניות
        2. זיהוי סוג האפליקציה (web או console)
        3. טעינת ApplicationContextInitializers
        4. הכנת סביבת הרצה (event listeners, etc.)
        5. יצירת ApplicationContext
        6. רישום beans בסיסיים
        7. טעינת קונפיגורציה מהמחלקה הראשית
        8. הפעלת מנגנון האוטו-קונפיגורציה
        9. סריקת רכיבים
        10. הפעלת שרת הווב המוטמע (אם יש)
        11. רישום והפעלת beans
        12. פרסום אירועי התחלה
        13. מוכנות האפליקציה

3. **הדגמת הרצה והסבר התוצאות **
    - הרצת האפליקציה מתוך ה-IDE
    - ניתוח לוג האפליקציה בקונסול
    - הסבר על שרת ה-Tomcat המוטמע ומשמעות הודעות ההתחלה
    - ניסיון גישה ל-http://localhost:8080 והסבר על תגובת 404 (עדיין אין בקרים)

### סיכום השלב
- דיון על מה למדנו (הכרת מבנה פרויקט Spring Boot בסיסי)
- מענה על שאלות
- הצגת `Stage1.md` לסיכום השלב

## שלב 2: הוספת קונטרולר בסיסי

### מטרות הלימוד
- הבנת תפקיד הבקר (Controller) במודל MVC
- למידת אנוטציות בסיסיות: @Controller, @RequestMapping, @ResponseBody
- הבנת זרימת הבקשות ב-Spring MVC

### מהלך ההדרכה

1. **הוספת בקר בסיסי **
    - יצירת קובץ `WelcomeController.java`
    - הסבר על האנוטציות השונות:
        - `@Controller` - מסמן את המחלקה כבקר
        - `@RequestMapping("/welcome")` - מגדיר את נתיב הבסיס
        - `@ResponseBody` - מגדיר שהערך המוחזר יהיה גוף התגובה
    - הסבר על מתודת `greet()` ומשמעותה

2. **הרצה והדגמה **
    - הרצת האפליקציה מחדש
    - גישה ל-http://localhost:8080/welcome/greet
    - הדגמה באמצעות דפדפן
    - הדגמה באמצעות Postman

3. **הצגת זרימת HTTP במערכת **
    - הצגת תרשים `Dispatcher in Springboot.mmd`
    - הסבר על תפקיד ה-DispatcherServlet ב-Spring MVC
    - הצגת קובץ `Servlet ויישומו ב-Spring Boot.md`
    - דיון על המשמעות של Spring Boot כמייעל את הצורך בקובץי קונפיגורציה XML

4. **תרגיל מונחה**
    - הנחיית המשתתפים דרך תרגיל: `Mission_01_for_Stage2.md`
    - יצירת בקר נוסף עם נתיב אחר
    - הוספת מספר אנדפוינטים שונים
    - בדיקה בדפדפן/Postman של התוצאות

### סיכום השלב
- דיון על מה למדנו (בקרים ונתיבים)
- מענה על שאלות
- הצגת `Stage2.md` לסיכום השלב

## שלב 3: ארכיטקטורת MVC בסיסית

### מטרות הלימוד
- הבנת ארכיטקטורת MVC מלאה
- יצירת מודלים (Model)
- הבנת שכבת השירות (Service Layer)
- שימוש ב-@RestController

### מהלך ההדרכה

1. **הצגת ארכיטקטורת MVC **
    - הסבר על המודל MVC והפרדת האחריות בין שכבות
    - הצגת שרטוט המתאר את זרימת המידע במערכת MVC
    - הסבר על היתרונות של ארכיטקטורה מבוססת שכבות

2. **יצירת מודל **
    - יצירת קובץ `Student.java`
    - הסבר על מבנה המודל והשדות
    - הסבר על getters/setters ותפקידם
    - הסבר על משמעות ה-toString()

3. **יצירת שכבת שירות **
    - יצירת קובץ `StudentService.java`
    - הסבר על האנוטציה `@Service`
    - יצירת מתודה `getAllStudents()` להחזרת רשימת סטודנטים
    - הסבר על השימוש בנתונים מוקאפ (סטטיים) בשלב זה

4. **שדרוג הבקר **
    - יצירת `StudentController.java`
    - הסבר על השימוש ב-`@RestController` במקום `@Controller` + `@ResponseBody`
    - הסבר על הזרקת התלות של `StudentService` באמצעות constructor injection
    - יצירת מתודה `getAllStudents()` שמשתמשת בשירות

5. **תרגיל מונחה **
    - הצגת `Mission_03_for_Stage3.md`
    - הנחיית המשתתפים דרך התרגיל
    - יצירת מודל נוסף עם שירות ובקר
    - בדיקת התוצאות בדפדפן/Postman

### סיכום השלב
- דיון על מה למדנו (ארכיטקטורת MVC מלאה)
- הצגת `Stage3.md`
- מענה על שאלות

## שלב 4: CRUD מלא עם שיפורים ארכיטקטוניים

### מטרות הלימוד
- יישום פעולות CRUD מלאות
- שימוש בספריית Lombok
- הפרדה בין ממשק ומימוש (interface/implementation)
- שימוש באנוטציות ספציפיות למתודות HTTP

### מהלך ההדרכה

1. **הצגת Lombok וממשקים **
    - הצגת ספריית Lombok ויתרונותיה
    - הדגמת הוספת Lombok לפרויקט
    - הסבר על התבניות העיקריות: @Data, @NoArgsConstructor, @AllArgsConstructor
    - דיון על היתרונות של הפרדה בין ממשק למימוש
    - הצגת קובץ "מסמך הסבר ביתרון שימוש בממשקים"

2. **הפיכת המודל למודל Lombok **
    - שדרוג `Student.java` לשימוש באנוטציות Lombok
    - הדגמת ההבדל בכמות הקוד לפני ואחרי

3. **יצירת ממשק השירות ומימושו**
    - יצירת ממשק `StudentService.java`
    - הגדרת מתודות CRUD בממשק: getAllStudents, addStudent, updateStudent, deleteStudent
    - יצירת מימוש `StudentServiceImpl.java` שמיישם את הממשק
    - הסבר על היתרונות של Dependency Inversion Principle

4. **שדרוג הבקר לפעולות CRUD מלאות**
    - עדכון `StudentController.java` עם מתודות חדשות
    - שימוש באנוטציות ספציפיות: @GetMapping, @PostMapping, @PutMapping, @DeleteMapping
    - הסבר על @RequestBody, @PathVariable
    - הסבר על הסימנטיקה של בקשות REST

5. **הצגת קובץ "מדריך מקיף לפעולות CRUD" **
    - סקירת המדריך המפורט
    - הדגשת נקודות מפתח
    - הסבר על שיטות העבודה המומלצות

### סיכום השלב
- דיון על מה למדנו (CRUD מלא, Lombok, ממשקים)
- הצגת `Stage4.md`
- שאלות ותשובות

## שלב 5: טיפול בחריגות ושיפור תגובות ה-API

### מטרות הלימוד
- הבנת החשיבות של טיפול נכון בחריגות
- שימוש ב-ResponseEntity להחזרת תגובות HTTP מתאימות
- יצירת מחלקות חריגה מותאמות אישית

### מהלך ההדרכה

1. **למה צריך ResponseEntity **
    - הצגת קובץ "למה צריך ResponseEntity - קובץ MD"
    - הסבר על מגבלות החזרת אובייקטים ישירות מהבקר
    - הדגמת השימוש ב-ResponseEntity לשליטה בסטטוס, בכותרות ובגוף התגובה

2. **עיצוב API ונקודות גישה **
    - הצגת סעיף 3 מקובץ "ניתוח מתקדם של קוד Spring Boot"
    - דיון על עיצוב RESTful מיטבי של נקודות קצה
    - השוואת הגישה הנוכחית לגישה "RESTful יותר"
    - הדגמת תיקונים במיפויים של הבקר

3. **יצירת מחלקות חריגה **
    - יצירת מחלקות: NotExists, AlreadyExists, StudentIdAndIdMismatch
    - הסבר על תפקיד כל חריגה והמקרים בהם היא נזרקת
    - דיון על היתרונות של חריגות ספציפיות

4. **עדכון השירות לשימוש בחריגות **
    - שינוי מתודות השירות כך שיזרקו חריגות במקום להחזיר הודעות מחרוזת
    - הדגמת התועלת במעבר הזה - קוד יותר ברור וממוקד

5. **עדכון הבקר לטיפול בחריגות ולשימוש ב-ResponseEntity **
    - שינוי מתודות הבקר כך שיחזירו ResponseEntity
    - הדגמת טיפול בחריגות באמצעות try-catch
    - הסבר על קודי הסטטוס השונים ומתי להשתמש בהם
    - הצגת קובץ "מה עשינו בקוד ResponseEntity"

### סיכום השלב
- דיון על מה למדנו (טיפול בחריגות, ResponseEntity)
- הצגת `Stage5.md`
- שאלות ותשובות
- הצגת קובץ "01_חשיבות הנדסית של ResponseEntity וארכיטקטורת הקוד"

## שלב 5.1: טיפול גלובלי בחריגות

### מטרות הלימוד
- הבנת מנגנון @ControllerAdvice לטיפול גלובלי בחריגות
- יצירת מחלקה לתגובות שגיאה אחידות
- שיפור הבקרים על ידי הסרת קוד טיפול בחריגות

### מהלך ההדרכה

1. **הצגת הבעיה - טיפול בחריגות מפוזר **
    - הדגמת הבעייתיות בגישה הנוכחית - כל בקר צריך לטפל בחריגות בנפרד
    - הדגמת כפילות קוד וקושי בתחזוקה
    - הצגת הצורך בפתרון מרכזי

2. **יצירת ErrorResponse **
    - יצירת מחלקת `ErrorResponse.java`
    - הסבר על המבנה: error, message, timestamp
    - דיון על יתרונות תגובת שגיאה מובנית ואחידה
    - הצגת דוגמאות של תגובות שגיאה טיפוסיות

3. **יצירת GlobalExceptionHandler **
    - יצירת מחלקת `GlobalExceptionHandler.java` עם @ControllerAdvice
    - יישום מתודות עם @ExceptionHandler לכל סוג חריגה
    - הסבר על הקשר בין סוג החריגה לקוד הסטטוס המתאים
    - הדגמת אופן פעולת המנגנון כולו

4. **שיפור הבקרים**
    - פישוט הבקרים על ידי הסרת כל הקוד לטיפול בחריגות
    - הדגמת ההבדל לפני ואחרי - קוד נקי וממוקד בהרבה
    - דיון על היתרונות: קריאות, תחזוקתיות, עקביות

5. **הצגת תרשים הזרימה של טיפול בחריגות **
    - הצגת קובץ "00_ControllerAdvice_Global_exception.md"
    - הסבר מפורט על תרשים הזרימה המצורף
    - דיון על המקרים השונים של טיפול בחריגות

### סיכום השלב
- דיון על מה למדנו (טיפול גלובלי בחריגות, @ControllerAdvice)
- הצגת `Stage51.md`
- שאלות ותשובות

## שלב 5.2: ולידציה וטיפול בשגיאות ולידציה

### מטרות הלימוד
- הבנת חשיבות הולידציה בצד השרת
- שימוש באנוטציות Jakarta Bean Validation
- הרחבת GlobalExceptionHandler לטיפול בשגיאות ולידציה

### מהלך ההדרכה

1. **מבוא לולידציה **
    - הסבר על חשיבות הולידציה בצד השרת
    - דיון על הסיכונים של קלט לא מאומת
    - הצגת היתרונות של מנגנון ולידציה אוטומטי

2. **הוספת אנוטציות ולידציה למודל **
    - שדרוג מחלקת `Student.java` עם אנוטציות ולידציה:
        - @NotNull, @NotBlank, @Size, @Min
    - הסבר על כל אנוטציה והלוגיקה מאחוריה
    - דיון על הודעות שגיאה מותאמות אישית

3. **הרחבת GlobalExceptionHandler **
    - הוספת מתודה לטיפול ב-MethodArgumentNotValidException
    - הסבר על איסוף שגיאות הולידציה ממספר שדות
    - הדגמת יצירת מפת שגיאות והחזרתן בתגובה מובנית

4. **עדכון הבקר לשימוש באנוטציית @Valid **
    - שינוי מתודות הבקר להוספת @Valid לפני @RequestBody
    - הסבר על מנגנון ה-validation שמופעל אוטומטית
    - דיון על השילוב בין ולידציה לטיפול בחריגות

5. **הדגמת הולידציה בפעולה**
    - הדגמת בקשות שונות עם נתונים חוקיים ולא חוקיים
    - ניתוח תגובות השגיאה המתקבלות
    - הצגת קובץ "041_ControllerAdvice_Global_exception.md" המורחב
    - השוואת תרשימי הזרימה בין גרסה 5.1 ל-5.2

### סיכום השלב
- דיון על מה למדנו (ולידציה, טיפול בשגיאות ולידציה)
- הצגת `Stage52.md`
- שאלות ותשובות
- הצגת מפת דרכים להמשך (JPA, Security, וכו')

## סיכום 

### מטרות
- חיזוק ההבנה הכוללת של התהליך
- מבט על המערכת השלמה
- הבנת הפילוסופיה מאחורי Spring Boot

### מהלך ההדרכה

1. **סקירת מפת הדרכים **
    - הצגת קובץ "מפת דרכים לפיתוח אפליקציית CRUD ב-Spring Boot"
    - סקירה של כל השלבים שעברנו והקונספטים המרכזיים בכל שלב
    - הצגת תרשימי Mermaid מקובץ "Stages.md"

2. **דיון על הפילוסופיה של Spring Boot **
    - הצגת קובץ "הפילוסופיה של Spring Boot: מהפכה מחשבתית בפיתוח אפליקציות"
    - דיון על העקרונות הפילוסופיים מאחורי Spring Boot:
        - Inversion of Control
        - הפרדה לשכבות
        - Convention over Configuration
        - טיפול בשגיאות

3. **סיכום הכלים והטכנולוגיות **
    - הצגת קובץ "מדריך כלים בסיסיים לקורס Java מתקדם"
    - חזרה על הכלים העיקריים: IntelliJ IDEA, Git, GitHub, Spring Boot
    - הצגת תהליכי העבודה עם Git ו-GitHub מקובץ "תהליכי העבודה עם Git ו-GitHub כולל הסברים"

4. **מבט לעתיד ושאלות פתוחות **
    - דיון על השלבים הבאים בפיתוח: JPA, Security, Cloud, וכו'
    - מענה על שאלות מסכמות
    - הצעות להמשך למידה עצמית

### סיכום סופי
- סיכום הידע והמיומנויות שנרכשו במהלך ההשתלמות
- הצגת משאבים נוספים ללמידה
- איסוף משוב מהמשתתפים

## הערות כלליות לתסריט ההדרכה

1. **הכנה מראש**:
    - ודא שכל הקבצים הדרושים (קוד ו-MD) זמינים ומאורגנים לפי סדר ההצגה
    - הכן מראש פרויקט דוגמה מוכן לכל שלב למקרה של בעיות טכניות

2. **חומרי עזר**:
    - מומלץ להכין מצגת קצרה לכל שלב עם נקודות מפתח
    - שקופיות עם תרשימים ודיאגרמות יכולות לעזור להבנת קונספטים מורכבים

3. **ניהול זמן**:
    - הקצה מספיק זמן לשאלות בסוף כל חלק 
    - תכנן הפסקות קצרות בין שלבים

4. **תרגול מעשי**:
    - הקפד שהתרגילים יהיו מובנים וברורים
    - הכן "דף פתרונות" למקרה שמשתתפים נתקעים

5. **טיפול בבעיות טכניות**:
    - הכן מראש רשימת פתרונות לבעיות נפוצות
    - ודא שיש תמיכה טכנית זמינה במהלך ההשתלמות

6. **חומרים להמשך למידה**:
    - הכן רשימת מקורות להמשך למידה עצמית
    - שקול להכין פרויקט "בית" קטן להמשך תרגול

</div>